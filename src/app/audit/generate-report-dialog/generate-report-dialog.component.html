<ngbx-modal #modal="modal" [back]="['..']">
  <ng-container modal-title>
    Generate Report
  </ng-container>
  <ng-container modal-body>
    <ul ngbNav #nav="ngbNav" class="nav-tabs">
      <li ngbNavItem="energyAudit" (click)="changeNav('energyAudit')">
        <a ngbNavLink>Energy Audit</a>
      </li>
      <li ngbNavItem="cleanEnergyHub" (click)="changeNav('cleanEnergyHub')">
        <a ngbNavLink>Clean Energy Hub</a>
      </li>
    </ul>
    <div class="col" *ngIf="tabType === 'energyAudit'">
      <button class="btn btn-primary text-white" [disabled]="!auditService.isCompleted && this.reportType == 'auditEnergy'"
              (click)="generateReport('energyAuditReport')">
        Download Energy Audit
        <span *ngIf="!auditService.isCompleted && this.reportType == 'auditEnergy'" class="spinner-border" role="status"><span class="visually-hidden">Loading...</span></span>
      </button>
    </div>
    <div class="col" *ngIf="tabType === 'cleanEnergyHub'">
      <button class="btn btn-primary text-white" [disabled]="!auditService.isCompleted && this.reportType == 'feasibility'"
              (click)="generateReport('feasibilityReport')">
        Download Feasibility
        <span *ngIf="!auditService.isCompleted && this.reportType == 'feasibility'" class="spinner-border" role="status"><span class="visually-hidden">Loading...</span></span>
      </button>
    </div>
    <div class="col" *ngIf="tabType === 'cleanEnergyHub'">
      <button class="btn btn-primary text-white" [disabled]="!auditService.isCompleted && this.reportType == 'ceh'"
              (click)="generateReport('cehMicrogridSheet')">
        Download Microgrid
        <span *ngIf="!auditService.isCompleted && this.reportType == 'ceh'" class="spinner-border" role="status"><span class="visually-hidden">Loading...</span></span>
      </button>
    </div>
  </ng-container>
  <ng-container modal-footer>
    <button class="btn btn-secondary" [disabled]="!auditService.isCompleted" (click)="modal.close()">
      Close
    </button>
  </ng-container>
</ngbx-modal>
