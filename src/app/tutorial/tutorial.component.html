<div
  class="position-absolute rounded"
  id="tutorial-backdrop"
  #popover=ngbPopover
  [ngbPopover]="body"
  [popoverTitle]="title"
  triggers="manual"
  [autoClose]="false"
  (hidden)="leave()"
  [style.top.px]="targetPosition.top"
  [style.left.px]="targetPosition.left"
  [style.width.px]="targetPosition.width"
  [style.height.px]="targetPosition.height"
></div>
<ng-template #title>
  <div class="d-flex align-items-center">
    {{ steps[index].title }} ({{ index + 1 }} / {{ steps.length }})
    <a class="btn-close ms-auto" routerLink="../.."></a>
  </div>
</ng-template>
<ng-template #body>
  <p>
    {{ steps[index].description }}
  </p>
  <div class="btn-toolbar">
    @if (index >= 1) {
      <a class="btn btn-sm btn-primary me-1" [routerLink]="['..', index - 1]">
        Previous
      </a>
    }
    @if (index + 1 < steps.length) {
      <a class="btn btn-sm btn-primary me-1" [routerLink]="['..', index + 1]">
        Next
      </a>
    } @else if (index + 1 === steps.length) {
      <a class="btn btn-sm btn-primary me-1" routerLink="../..">
        Finish
      </a>
    }
    @if (steps[index].skip) {
      <a class="btn btn-sm btn-secondary me-1" [routerLink]="['..', index + steps[index].skip!]">
        Skip ({{ steps[index].skip }} Steps)
      </a>
    }
  </div>
</ng-template>
